using com.apamax.test.callback.Assert;
using com.apamax.test.AssertHelper;

using com.apama.correlator.Component;

monitor TestAssert {

	action onload() {
		string configAsserts := Component.getConfigProperties().getOr("asserts", "");
		boolean assertsEnabled := configAsserts.toLower() = "true";  // or true.toString() [+ .toLower()?] to avoid the magic string at the expense of readability.
		log "Asserts enabled? " + assertsEnabled.toString() at INFO;
		Assert asserter := Assert.create(assertsEnabled, AssertHelper.logAtError);
		asserter.isTrue(false, "the sky is blue");
		asserter.isFalse(true, "pigs can fly");
		asserter.equals(2 + 2, 5, "Two plus two = four");
	}
}
