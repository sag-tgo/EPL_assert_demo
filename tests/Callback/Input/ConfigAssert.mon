using com.apamax.test.Assert;
using com.apamax.test.AssertHelper;
using com.softwareag.apama.demo.MyCalculator;

monitor ConfigAssert {

	Assert asserter := Assert.createOpt(AssertHelper.isConfigEnabled("asserts"),
										AssertHelper.logAtError);

	action onload() {
		log "test start" at INFO;

		testMyCalculatorAddToZero();
		testMyCalculatorAddToOne();

		log "test end" at INFO;
	}

	action testMyCalculatorAddToZero() {
		integer i := 0;
		while i < 10 {
			asserter.equal(MyCalculator.add(0, i), i, "0 + i");
			i := i + 1;
		}
	}

	action testMyCalculatorAddToOne() {
		integer i := 0;
		while i < 10 {
			asserter.equal(MyCalculator.add(1, i), i, "1 + i");
			i := i + 1;
		}
	}
}
